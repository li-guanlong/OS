oS=(function(){"use strict";let os=function(config){this._config=config;config.forEach((ele,i)=>{this._setParams(i);this._init(i)})};os.prototype={constructor:os,_setParams:function(i){let{handlers,event,performer,type,callback,start}=this._config[i];this._config[i].handlers=handlers;this._config[i].event=event||'click';this._config[i].performer=performer||"";this._config[i].type=type||0;this._config[i].callback=callback||this._config[i].callback;this._config[i].start=start||true;this._config[i].err=[];this._config[i].err[0]=false;this.log.err(i,this)},isStart:function(i){if(this._config[i].start&&!this._config[i].err[0])this.bindEve(i)},bindEve:function(i){let _this=this;if(this._config[i].type===0){let prevCur=0,curIndex=0,binder=document.getElementById(this._config[i].handlers).children;Array.from(binder).forEach((itm,j)=>{itm.addEventListener(this._config[i].event,function(){curIndex=j;_this.setBinderCur(this,binder,prevCur,curIndex,i);prevCur=j;if(_this._config[i].callback)_this.callbackFun(i,this)})})}else if(this._config[i].type===1){let binder=document.getElementById(this._config[i].handlers);binder.addEventListener(this._config[i].event,function(){if(_this._config[i].callback)_this.callbackFun(i,this)})}},setBinderCur:function(_this,binder,prevCur,curIndex,i){if(prevCur!=curIndex){Array.from(binder).forEach(itm=>{itm.classList.remove("current")});_this.classList.add("current");if(this._config[i].performer)this.setPerformerCur(curIndex,i)}},setPerformerCur:function(curIndex,i){let performer=document.getElementById(this._config[i].performer).children;Array.from(performer).forEach(itm=>{itm.classList.add("hide")});performer[curIndex].classList.remove("hide")},_init:function(i){this.isStart(i)},callbackFun:function(i,_this){this._config[i].callback.call(_this)},log:{err:function(i,_this){if(_this._config[i].handlers){this.test_1(i,_this)}else{_this._config[i].err[0]=true;_this._config[i].err[1]="运行失败：配置文件第"+ ++i+"项，缺少必要参数handlers"}},test_1:function(i,_this){let eleExistJudge=document.getElementById(_this._config[i].handlers);if(eleExistJudge){this.test_2(i,_this)}else{_this._config[i].err[0]=true;_this._config[i].err[1]='运行失败：配置文件参数handlers:"'+_this._config[i].handlers+'"元素不存在'}},test_2:function(i,_this){let typeJudge=_this._config[i].type,dataType=typeof typeJudge==="number"?true:false,hasType=typeJudge===0||typeJudge===1?true:false;if(!dataType){_this._config[i].err[0]=true;_this._config[i].err[1]='运行失败：配置文件参数type:'+_this._config[i].type+'数据类型错误，传入数据类型为'+typeof typeJudge+'，应为int'}else if(!hasType){_this._config[i].err[0]=true;_this._config[i].err[1]='运行失败：配置文件参数type:'+_this._config[i].type+'类型不存在'}else{_this._config[i].err[0]=false;_this._config[i].err[1]="运行正常"}}}};return os})();